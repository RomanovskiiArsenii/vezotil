Отчёт о проделанной работе по проекту vezotil

23.09 (1 день)

1 Подготовка репозитория
1.1 Создан новый репозиторий vezotil на GitHub.
1.2 Инициализирован локальный репозиторий и произведена привязка к удалённому репозиторию.
1.3 Настроена основная ветка main и выполнена загрузка исходного кода проекта.

2 Конфигурация проекта и зависимостей
2.1 Проверена и обновлена версия Node.js для соответствия требованиям Next.js 14.2.28
2.2 Установлены все зависимости через npm install.
2.3 Исправлена несовместимость версий линтера: удалены устаревшие пакеты и установлены актуальные версии ESLint 8.x и плагинов @typescript-eslint 6.x.
2.4 Зафиксированы используемые версии:
Next.js 14.2.28,
React 18.2.0,
TypeScript 5.2.2,
ESLint 8.x,
@typescript-eslint 6.x.

3 Обновление конфигурационных файлов
3.1 В файл package.json добавлен новый скрипт "export": "next export", что позволяет выполнять статический экспорт проекта.
3.2 Файл next.config.js переработан и содержит следующие настройки:
output: "export" — для статического экспорта в HTML;
images: { unoptimized: true } — для корректной работы с компонентом <Image />;
eslint: { ignoreDuringBuilds: true } — отключение блокировки сборки при предупреждениях линтера;
typescript: { ignoreBuildErrors: false } — сохранение строгой проверки типов;
trailingSlash: true — добавление слэшей в URL для корректного отображения статического сайта.

4 Сборка и тестирование
4.1 Успешно выполнена сборка проекта командой npm run build.
4.2 Настроен статический экспорт (npm run export), формирующий папку out/ с готовыми HTML-страницами.
4.3 Проверен запуск продакшн-версии проекта локально (npm run start).

5 Итоги 
5.1 Проект vezotil подготовлен к полноценной работе и дальнейшему развертыванию на любой платформе: Vercel, Netlify или собственный сервер.
5.2 Кодовая база приведена к современным версиям Next.js, React и TypeScript, репозиторий оптимизирован и очищен от ненужных файлов. 
5.3 Сборка и экспорт работают без ошибок, проект готов к деплою.

6 Разрешены следующие графические ошибки для ПК и планшетов (Ширина экрана > 1022px) в блоках hero-section, partner-logos, header:
6.1 Скролл контейнеров
6.2 Скролл контейнеров при наведении мыши
6.3 Обрезка эффекта подсветки кнопок "заказать", "узнать больше" и "заказать препарат" по границам контейнера
6.4 Обрезка эффекта подсветки логотипа по границам контейнера

7 Применены следующие стилистические правки
7.1 Единый стиль элементов навигации
7.2 Резкая белая полоса, возникающая при анимации блока навигации, теперь светло-синего цвета

8 Разрешены следующие ошибки сборки
8.1 Ошибка уникальности ключей в файле manufacturer-section

24.09

1 Разрешены следующие графические ошибки для ПК и планшетов (Ширина экрана > 1022px) на главной странице
1.1 Искажение пропорций иконок
1.2 Добавлена ссылка на политику в форме
1.3 Обрезка контента по границам контейнера
1.4 Обрезка эффектов по границам контейнера
1.5 Ошибки верстки

2 Разрешены следующие графические ошибки для ПК и планшетов (Ширина экрана > 1022px) на странице производителя
2.1 Обрезка контента по границам контейнера
2.2 Скроллбары
2.3 Ошибки верстки
2.4 Декоративная линия и точки поверх контента
2.5 Декоративная линия и точки не центрированы относительно друг друга

3 Разрешены следующие графические ошибки для ПК и планшетов (Ширина экрана > 1022px) на всех страницах
3.1 Восстановлена работа индикатора скролла
3.2 Прелоадер центрирован
3.3 Ошибки верстки футера

25.09
1 Были проверены следующие страницы (35 страниц) для ширины экрана >1022px:
/
/about/
/blog/
/faq/
/video/
/adverse-reactions/
/privacy/
/publications/
/clinicals/
/webinars/
/news/

/news/vetfarm-2023-participation/
/news/production-expansion-vezotil/
/news/vezotil-registration-approved/
/news/clinical-studies-effectiveness/

/blog/preoperative-protocols-vezotil/
/blog/vital-signs-monitoring-vezotil
/blog/anesthesia-elderly-animals
/blog/anesthetics-comparative-study
/blog/modern-anesthesia-approaches
/blog/complex-surgery-case-vezotil

/publications/chronic-pain-study/
/publications/comparative-pilot-study/
/publications/effectiveness-study/
/publications/pilot-comparative-study/
/publications/zoo-animals-study/

/clinicals/best-study/
/clinicals/biocontrol-comparative-study/
/clinicals/dobryj-doctor-study/
/clinicals/dtst-study/
/clinicals/four-paws-study/
/clinicals/moszoo-study/
/clinicals/pantera-study/
/clinicals/vetlife-study/
/clinicals/vetprofalyans-study/

2 На перечисленных страницах разрешены следующие графические ошибки для ПК и планшетов (Ширина экрана > 1022px)
2.1 Скроллбары
2.2 Различные проблемы с логотипам: темный фон, обрезка изображения, отсутствие логотипа ВетЛайф 
2.3 Обрезка контента и изображений по границам контейнера
2.4 Обрезка эффектов по границам контейнера
2.5 Ошибки верстки
2.6 Добавлено отсутствующее изображение в новости
2.7 Исправлен путь к файлу pdf с инструкцией
2.8 Исправлена ширина поп-ап окна для просмотра документа
2.9 Удалены лишние элементы интерфейса - стрелки на странице /how-to-use/
2.10 Удалена задублированная ссылка на странице /video/

3 Работа над скриптом воспроизведения видео для ПК и планшетов (Ширина экрана > 1022px)
3.1 Решена проблема с задваиванием воспроизведения в поп-ап окне и контейнере предпросмотра
3.2 Контейнеры предпросмотра удалены со страницы /webinars/, так как используемый скрипт для раскрытия поп-ап окна видео несовместим с версткой данной страницы, и, кроме того, для основного контента не хватает места.
3.3 Устранены мелкие ошибки в скрипте воспроизведения видео

26

1 Дебаг для мобильных устройств (ширина экрана < 1024px)
1.1 Исправлена верстка модального меню навигации для мобильных устройств
1.2 Отключено модальное окно видео для мобильных устройств
1.3 Исправлена вертска футера
1.4 Исправлены ошибки, при которых иконки сужались или обрезались на мобильных устройствах
1.5 Скрыты иконки в заголовках статей и публикаций
1.6 Скрыты хлебные крошки в мобильной версии

2 Дебаг для всех типов устройств 
2.1 Яркость фильтра логотипов партнеров уменьшена вдвое, чтобы был различим лого Сколково
2.2 Партнерские логотипы исчезают при достижении конца страницы, чтобы не перекрывать текст в футере
2.3 Скроллбары стилизованы под цвета сайта

3 Правки навигации по сайту
3.1 Изменены пункты навигации
3.2 При клике на логотип переход на главную страницу без якорной ссылки или скролл в начало страницы, если уже находимся на главной. Это более привычно для пользователей.
3.3 Исправлена ошибка, при которой не происходил переход по ссылкам в навигации
3.4 Добавлен пункт "Новости"
3.5 Добавлены хлебные крошки для страниц faq, специалистам, отзывы, новости                          

27.09 (бесплатно)
Восстановлен функционал перехода в описание препарата при нажатии на название.
Добавлены годы в историю развития.
Восстановлено окно предпросмотра в вебинарах.
Для страницы вебинаров размещён предпросмотр над кнопкой, чтобы всё помещалось.
Выявлены баги с модальным окном на странице вебинаров: при открытии используется код со страницы /video/, что вызывает два сбоя — окно открывается в контейнере и не помещается; при закрытии пользователя перебрасывает на страницу отзывов.
Предложены три решения:
• скрыть кнопку открытия модального окна, чтобы ошибки не проявлялись и оставить просмотр через плеер или кнопку «смотреть на Рутуб»;
• увеличить высоту контейнера, расположив предпросмотр выше текста;
• доработать скрипт специально для страницы вебинаров (затраты до трёх дней, требует оценки целесообразности).

28.09
Теперь, при нажатии на кнопку выхода, клиент остается на той же странице, а не перебрасывается в отзывы.
Теперь, когда одно видео включается, другие выключаются.
При нажатии на кнопку esc, модальное окно закрывается.
При открытии предпросмотра видео, модальное окно в другом контейнере закрывается 

Для страницы вебинаров увеличена высота контейнеров вебинаров, чтобы помещались модальные окна просмотра видео.
Для страницы вебинаров из модального окна скрыты декоративные элементы и описание для экономии места.

Для страницы отзывов верстка в модальном окне адаптирована под различную высоту экрана.
Для страницы отзывов модальному окну добавлен отступ на высоту навигационной панели.
Для страницы отзывов декоративные элементы в модальном окне (но не описание) исчезают при высоте области видимости менее 700px.
Для страницы отзывов ширина плеера в модальном окне становится уже, чтобы сохранить пропорции, при высоте области видимости менее 700px.

Отключен autostart у плеера рутуб
Добавлен уникальный параметр ссылка фрейма рутуб, чтобы всегда подтягивался новый фрейм 
